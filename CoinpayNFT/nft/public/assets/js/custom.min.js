/*
 * Template Name : Traveling Blog
 * Version : 1.0.0
 * Created by : Traveling Blog
 * File: Main jQuery 
 */

/*
====================================
[ jQuery TABLE CONTENT ]
------------------------------------
    1.0  - header fix
    2.0  - tooltip
    3.0  - dropdown menu
    4.0  - home slider
    5.0  - feature blog slider
    6.0  - instagram slider
    8.0  - about slide slider
    9.0  - carousel slider
    10.0 - blog search
    11.0 - masonry grid
    12.0 - scroll top
-------------------------------------
[ END jQuery TABLE CONTENT ]
=====================================
*/
/* =============================================
                Theme Reset jQuery
============================================= */
/* tooltip */
/* header fix */
$(window).scroll(function () {
    if ($(window).scrollTop() >= 200) {
        $('.header-main').addClass('fixed-header');
        // $('#change-logo').attr('src','images/logo.png');
    } else {
        $('.header-main').removeClass('fixed-header');
        // $('#change-logo').attr('src','images/logo-white.png');
    }
});
window.onload = function () {
    var themeClr = $.cookie('theme-color');
    if (themeClr !== undefined && themeClr != '') {
        $('body').removeClass(themeClr);
    }
    $('body').removeClass('theme-defalt');
    $('body').addClass(themeClr);
};
$(window).on('load', function () { // makes sure the whole site is loaded 
    // $('.theme-preloader').fadeOut(); // will first fade out the loading animation 
    $('.theme-preloader').delay(350).fadeOut('slow'); // will fade out the white DIV that covers the website. 
    $('body').delay(350).css({
        'overflow': 'visible'
    });
});
/* header fix */
$(function () {
    $('[data-toggle="tooltip"]').tooltip()
});
$(document).ready(function () {
    $('[data-toggle="tooltip"]').tooltip()
    var load_class = $.cookie('load-class');
    if (load_class == 1) {
        $("body").addClass('shadow-dark');
    }
    $(".switch-button").click(function () {
        $(".switched-styles").addClass("show");
        $(".switch-button").addClass("hide");
    });
    $(".hide-button").click(function () {
        $(".switched-styles").removeClass("show");
        $(".switch-button").removeClass("hide");
    });
    $('.list-unstyled li').click(function () {
        var c = $.cookie('theme-color');
        if (c !== undefined && c != '') {
            $('body').removeClass(c);
        }
        $('body').removeClass('theme-defalt');
        var clr = $(this).attr('class');
        $('body').addClass(clr);
        $.cookie('theme-color', clr);
    });
    $(".single-menu > a").click(function () {
        $(".single-menu .dropdown-box").toggle();
    });
    $(".wallet-close-btn").click(function () {
        $(".wallet-detected-box").toggleClass("wallet-detected-remove");
    });
    if (localStorage.getItem("mytime") == 'theme-rtl') {
        alert('dd')
        $('.promotion-sreact-slider').owlCarousel({
            autoplay: false,
            center: false,
            rtl: true,
            items: 3,
            loop: true,
            margin: 30,
            nav: false,
            dots: false,
            responsive: {
                0: {
                    items: 1,
                    nav: true
                },
                600: {
                    items: 3,
                    nav: false
                },
                1000: {
                    items: 3,
                    nav: true,
                    loop: false
                }
            }
        });
    } else {
        $('.promotion-sreact-slider').owlCarousel({
            autoplay: false,
            center: false,
            rtl: false,
            items: 3,
            loop: true,
            margin: 30,
            nav: false,
            dots: false,
            responsive: {
                0: {
                    items: 1,
                    nav: true
                },
                600: {
                    items: 3,
                    nav: false
                },
                1000: {
                    items: 3,
                    nav: true,
                    loop: false
                }
            }
        });
    }
    $('.hot-collection-slider').owlCarousel({
        autoplay: true,
        center: false,
        items: 3,
        loop: true,
        margin: 0,
        nav: false,
        dots: false,
        responsive: {
            600: {
                items: 3
            }
        }
    });
    $(".owl-prev").html('<i class="fas fa-long-arrow-alt-left"></i>');
    $(".owl-next").html('<i class="fas fa-long-arrow-alt-right"></i>');
    //  $('a[href^="#"]').on('click', function(e) {
    //     e.preventDefault();

    //     var target = this.hash;
    //     var $target = $(target);

    //     $('html, body').stop().animate({
    //         'scrollTop': $target.offset().top
    //     }, 900, 'swing', function() {
    //         window.location.hash = target;
    //     });
    // });
    $('#btn-check').change(function () {
        if ($(this).is(":checked")) { // check if the radio is checked
            $('.easy-box').show();
            $('.advanced-box').hide();
        } else {
            $('.easy-box').hide();
            $('.advanced-box').show();
        }
    });
    $('#traditional-check').change(function () {
        if ($(this).is(":checked")) { // check if the radio is checked
            $('.traditional-easy-box').show();
            $('.traditional-advanced-box').hide();
        } else {
            $('.traditional-easy-box').hide();
            $('.traditional-advanced-box').show();
        }
    });
    $(".search-btn").click(function () {
        $("body").addClass("search-active");
    });
    $(".search-close").click(function () {
        $("body").removeClass("search-active");
    });

    $('#theme-icon').click(function () {
        $('.theme-preloader').show();
        setTimeout(function () {
            $('.theme-preloader').delay(350).fadeOut('slow');
        }, 1200);
        if ($("body").hasClass("shadow-dark")) {
            $("body").removeClass("shadow-dark");
            $.cookie('load-class', 0);
        } else {
            $("body").addClass("shadow-dark");
            $.cookie('load-class', 1);
        }
    });
    $(".dropdown-select-custom").click(function () {
        $(".dropdown-menu-custom").toggle();
    });
});
$("#site_rtl").click(function () {
    $('#site_rtl').addClass('active');
    $('#site_ltr').removeClass('active');
    $("body").removeClass("theme-rtl");
    $('body').addClass("theme-rtl");
    localStorage.mytime = "theme-rtl";
    location.reload();
});
$(document).ready(function () {
    SetClass();
});
function SetClass() {

    if (localStorage.getItem("mytime") == 'theme-rtl') {
        $("body").addClass(localStorage.getItem("mytime"));
        $('#site_rtl').addClass('active');
        $('#site_ltr').removeClass('active');
        addrtl();
    } else {
        $('#site_rtl').removeClass('active');
        $('#site_ltr').addClass('active');
    }
}
$("#site_ltr").click(function () {
    localStorage.removeItem("mytime");
    $('#site_rtl').removeClass('active');
    $('#site_ltr').addClass('active');
    $("body").removeClass('theme-rtl');
    location.reload();
});
function addrtl() {

    $('.promotion-sreact-slider').owlCarousel({
        rtl: true,
        autoplay: false,
        center: true,
        items: 3,
        loop: true,
        margin: 30,
        nav: false,
        dots: false,
        responsive: {
            0: {
                items: 1,
                nav: true
            },
            600: {
                items: 3,
                nav: false
            },
            1000: {
                items: 3,
                nav: true,
                loop: false
            }
        }
    });
}


var btn = $('#page-up');

$(window).scroll(function () {
    if ($(window).scrollTop() > 300) {
        btn.addClass('show');
    } else {
        btn.removeClass('show');
    }
});

btn.on('click', function (e) {
    e.preventDefault();
    $('html, body').animate({
        scrollTop: 0
    }, '300');
});
jQuery(document).mouseup(function (e) {
    var container = jQuery('.nav-item .dropdown-box');
    // if the target of the click isn't the container nor a descendant of the container
    if (!container.is(e.target) && container.has(e.target).length === 0) {
        jQuery('.nav-item .dropdown-box').fadeOut();
    }
});


jQuery('#submit-form').click(function () {

    var formData={
        first_name:$("#first_name").val(),
        last_name:$("#last_name").val(),
        email:$("#email").val(),
        contact_about:$("#contact_about").val(),
        message:$("#message").val(),
    }
        // if(first_name.length < 0)
        // {

        // }else

    $.ajax({
        type: "POST",
        url: "send_email.php",
        data: formData,
        dataType: "json",
        encode: true,
    }).done(function (data) {
        if(data.status == 422 ) {
            var errors = data.data;
            $.each(errors, function (key, val) {
                Toast(val[0],2000,0);
            });
            return false;
        }
        else{
            Toast(data.data,2000,1);
            $("#form1")[0].reset();
        }

    })
});


function Toast(val,time,flag) {
    $('#toast').remove();
    
    var noti_html = document.createElement('div');
    
    var id = "toast";
    var att = document.createAttribute("id");       
    att.value = "toast";                           
    noti_html.setAttributeNode(att);
    
    if(flag==1){
        noti_html.className = "notification is-success";
    }else if(flag==0 || flag==2){
        noti_html.className = "notification is-danger";
    }else {
        noti_html.className = "notification is-warning";
    }
    
    $('body').append(noti_html);
    $(noti_html).html(val);
    
    var notifications = new Notifications("#"+id, {closeSelfOnClick: true});
    notifications.init();
   
    
    if(typeof time == 'undefined' || time == null){
        time = 3000;
    }

    setTimeout(function(){
        $('#toast').remove();
        time == null;
    }, time);
}
//-----JS for Price Range slider-----
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Notifications=e():t.Notifications=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(1);var n=i(3);e.default=n.Notifications},function(t,e,i){},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Notifications=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".notification",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.selector=e,this.options={animationInName:"slidein",animationOutSelf:"slideout 1s",animationOutClose:"fadeout 1s",closeButtonSelector:".delete",closeSelfOnClick:!0,startTopPosition:8,gap:8,delayFunction:function(t){return 3+2*t},topTransition:"top .75s ease-in-out"},this.extendDefaults(i)}return n(t,[{key:"extendDefaults",value:function(t){var e=this;Object.keys(t).forEach(function(i){e.options.hasOwnProperty(i)&&(e.options[i]=t[i])})}},{key:"init",value:function(){var t=this;this.onload(),document.addEventListener("animationstart",function(e){t.onStartHandler(e)})}},{key:"onload",value:function(){var t=this;this.setTopPositions(),this.allNotifications().forEach(function(e,i){t.setNotification(e,.5+i+"s")})}},{key:"isSelfClosing",value:function(t){return"self"===t.getAttribute("data-close")}},{key:"onStartHandler",value:function(t){this.needsActivation(t.target)&&(this.setTopPositions(),this.setNotification(t.target))}},{key:"allNotifications",value:function(){return Array.prototype.slice.call(document.querySelectorAll(this.selector))}},{key:"setTopPositions",value:function(){var t=this,e=this.options.startTopPosition;this.allNotifications().forEach(function(i){i.style.top=e+"px",e+=i.offsetHeight+t.options.gap,t.needsResume(i)&&t.addExitAnimation(i)})}},{key:"inView",value:function(t){return parseInt(getComputedStyle(t).top)<window.innerHeight}},{key:"isPaused",value:function(t){return"true"===t.getAttribute("data-paused")}},{key:"needsResume",value:function(t){return this.isPaused(t)&&this.inView(t)}},{key:"isNotification",value:function(t){return this.allNotifications().indexOf(t)>-1}},{key:"needsActivation",value:function(t){return"active"!==t.getAttribute("data-notification")&&this.isNotification(t)}},{key:"setNotification",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(t.style.animationDelay=e),this.setListeners(t),t.setAttribute("data-notification","active"),t.style.transition=this.options.topTransition}},{key:"setListeners",value:function(t){var e=this;t.addEventListener("animationend",function(t){e.removeMe(t)});var i=t.querySelector(this.options.closeButtonSelector);this.options.closeSelfOnClick&&this.isSelfClosing(t)&&(i=i||t),i&&i.addEventListener("click",function(t){e.close(t)})}},{key:"close",value:function(t){(this.isNotification(t.currentTarget)?t.currentTarget:t.currentTarget.parentNode).style.animation=this.options.animationOutClose}},{key:"removeMe",value:function(t){var e=t.currentTarget;this.options.animationInName===t.animationName&&this.isSelfClosing(e)?this.addExitAnimation(e):(this.options.animationOutClose.split(" ").indexOf(t.animationName)>-1||this.options.animationOutSelf.split(" ").indexOf(t.animationName)>-1)&&(e.parentNode.removeChild(e),this.setTopPositions())}},{key:"addExitAnimation",value:function(t){if(this.inView(t)){t.setAttribute("data-paused",!1);var e=this.options.delayFunction(this.allNotifications().indexOf(t),t);t.style.animation=this.options.animationOutSelf,t.style.animationDelay=e+"s"}else t.setAttribute("data-paused",!0)}}]),t}()}]).default});